(() => { "use strict"; var t = { d: (n, e) => { for (var r in e) t.o(e, r) && !t.o(n, r) && Object.defineProperty(n, r, { enumerable: !0, get: e[r] }) }, o: (t, n) => Object.prototype.hasOwnProperty.call(t, n) }, n = {}; t.d(n, { default: () => vt }); var e = { AD: "ad", ALBUM: "album", GENRE: "genre", QUEUE: "queue", APPLICATION: "application", ARTIST: "artist", ARTIST_TOPLIST: "artist-toplist", ARTIST_CONCERTS: "artist-concerts", AUDIO_FILE: "audiofile", COLLECTION: "collection", COLLECTION_ALBUM: "collection-album", COLLECTION_ARTIST: "collection-artist", COLLECTION_MISSING_ALBUM: "collection-missing-album", COLLECTION_TRACK_LIST: "collectiontracklist", CONCERT: "concert", CONTEXT_GROUP: "context-group", DAILY_MIX: "dailymix", EMPTY: "empty", EPISODE: "episode", FACEBOOK: "facebook", FOLDER: "folder", FOLLOWERS: "followers", FOLLOWING: "following", IMAGE: "image", INBOX: "inbox", INTERRUPTION: "interruption", LIBRARY: "library", LIVE: "live", ROOM: "room", EXPRESSION: "expression", LOCAL: "local", LOCAL_TRACK: "local", LOCAL_ALBUM: "local-album", LOCAL_ARTIST: "local-artist", MERCH: "merch", MOSAIC: "mosaic", PLAYLIST: "playlist", PLAYLIST_V2: "playlist-v2", PRERELEASE: "prerelease", PROFILE: "profile", PUBLISHED_ROOTLIST: "published-rootlist", RADIO: "radio", ROOTLIST: "rootlist", SEARCH: "search", SHOW: "show", SOCIAL_SESSION: "socialsession", SPECIAL: "special", STARRED: "starred", STATION: "station", TEMP_PLAYLIST: "temp-playlist", TOPLIST: "toplist", TRACK: "track", TRACKSET: "trackset", USER_TOPLIST: "user-toplist", USER_TOP_TRACKS: "user-top-tracks", UNKNOWN: "unknown", MEDIA: "media", QUESTION: "question", POLL: "poll" }; Object.create; var r; Object.create; !function (t) { t[t.URI = 0] = "URI", t[t.URL = 1] = "URL" }(r || (r = {})); var o = "spotify:", i = "http://play.spotify.com/", a = "https://play.spotify.com/", u = "http://open.spotify.com/", c = "https://open.spotify.com/", l = "/", s = { APP: "app", FACEBOOK: "facebook", GLOBAL: "global", TOP: "top", USER: "user", CONCERTS: "concerts" }; function f(t, n) { return Z(e.COLLECTION, { username: t, category: n }) } function d(t, n, r, o) { return Z(e.LOCAL_TRACK, { artist: t, album: n, track: r, duration: o }) } function p(t, n, r) { return Z(e.TOPLIST, { toplist: t, country: n, global: Boolean(r) }) } function m(t, n, r, o) { return Z(e.TRACK, { id: t, anchor: n, context: r ? J(r) : null, play: o, hasBase62Id: !0 }) } function h(t, n) { if (!t) return ""; var e = encodeURIComponent(t); return n === r.URI && (e = e.replace(/%20/g, "+")), e = (e = e.replace(/[!'()]/g, escape)).replace(/\*/g, "%2A") } function y(t, n) { for (var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [], r = 0, o = t.length; r < o; ++r)e.push(h(t[r], n)); return e } function v(t, n) { if (!t) return ""; var e = n === r.URI ? t.replace(/\+/g, "%20") : t; return decodeURIComponent(e) } function I(t) { var n = "?"; for (var e in t) if (t.hasOwnProperty(e) && void 0 !== t[e]) { n.length > 1 && (n += "&"); var r = t[e]; void 0 !== r && (n += "".concat(e, "=").concat(encodeURIComponent(r))) } return n } var O = /^intl-[A-Za-z]{2,3}(-[A-Za-z]{4})?(-([A-Za-z]{2}|[0-9]{3}))?$/; var E = function () { var t = {}; return [function (n, e) { t[n] || (t[n] = e) }, t] }; function g(t, n) { (null == n || n > t.length) && (n = t.length); for (var e = 0, r = new Array(n); e < n; e++)r[e] = t[e]; return r } var L = function (t, n) { return function (t) { if (Array.isArray(t)) return t }(t) || function (t, n) { var e = null == t ? null : "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (null != e) { var r, o, i, a, u = [], c = !0, l = !1; try { if (i = (e = e.call(t)).next, 0 === n) { if (Object(e) !== e) return; c = !1 } else for (; !(c = (r = i.call(e)).done) && (u.push(r.value), u.length !== n); c = !0); } catch (s) { l = !0, o = s } finally { try { if (!c && null != e.return && (a = e.return(), Object(a) !== a)) return } finally { if (l) throw o } } return u } }(t, n) || function (t, n) { if (!t) return; if ("string" == typeof t) return g(t, n); var e = Object.prototype.toString.call(t).slice(8, -1); "Object" === e && t.constructor && (e = t.constructor.name); if ("Map" === e || "Set" === e) return Array.from(t); if ("Arguments" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return g(t, n) }(t, n) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() }(E(), 2), S = L[0], T = L[1]; function A(t, n) { (null == n || n > t.length) && (n = t.length); for (var e = 0, r = new Array(n); e < n; e++)r[e] = t[e]; return r } S(e.PLAYLIST, (function (t, n, r) { return function (t, n) { return Z(e.PLAYLIST, { id: n, username: t, hasBase62Id: !0 }) }(r.username, t.getBase62IdComponent()) })), S(e.FOLDER, (function (t, n, r) { return function (t, n) { return Z(e.FOLDER, { id: n, username: t, hasBase62Id: !0 }) }(r.username, t.getIdComponent()) })), S(e.COLLECTION_TRACK_LIST, (function (t, n, r) { return function (t, n) { return Z(e.COLLECTION_TRACK_LIST, { id: n, username: t, hasBase62Id: !0 }) }(r.username, t.getIdComponent()) })), S(e.COLLECTION, (function (t, n, r) { var o = r.username, i = t.getNextComponent(); if (i === e.ALBUM) { var a = t.getIdComponent(); return "missing" === t.getNextComponent() ? function (t, n) { return Z(e.COLLECTION_MISSING_ALBUM, { id: n, username: t, hasBase62Id: !0 }) }(o, a) : function (t, n) { return Z(e.COLLECTION_ALBUM, { id: n, username: t, hasBase62Id: !0 }) }(o, a) } return i === e.ARTIST ? function (t, n) { return Z(e.COLLECTION_ARTIST, { id: n, username: t, hasBase62Id: !0 }) }(o, t.getIdComponent()) : f(o, i) })), S(e.STARRED, (function (t, n, r) { return function (t) { return Z(e.STARRED, { username: t }) }(r.username) })), S(e.FOLLOWERS, (function (t, n, r) { return function (t) { return Z(e.FOLLOWERS, { username: t }) }(r.username) })), S(e.FOLLOWING, (function (t, n, r) { return function (t) { return Z(e.FOLLOWING, { username: t }) }(r.username) })), S(s.TOP, (function (t, n, r) { return function (t, n) { return Z(e.USER_TOPLIST, { username: t, toplist: n }) }(r.username, t.getNextRequiredComponent()) })), S(e.INBOX, (function (t, n, r) { return function (t) { return Z(e.INBOX, { username: t }) }(r.username) })), S(e.ROOTLIST, (function (t, n, r) { return function (t) { return Z(e.ROOTLIST, { username: t }) }(r.username) })), S(e.PUBLISHED_ROOTLIST, (function (t, n, r) { return function (t) { return Z(e.PUBLISHED_ROOTLIST, { username: t }) }(r.username) })), S(e.TOPLIST, (function (t, n, r) { return function (t) { return Z(e.USER_TOP_TRACKS, { username: t }) }(r.username) })), S(e.LIBRARY, (function (t, n, r) { return function (t, n) { return Z(e.LIBRARY, { username: t, category: n }) }(r.username, t.getNextComponent()) })); var R = function (t, n) { return function (t) { if (Array.isArray(t)) return t }(t) || function (t, n) { var e = null == t ? null : "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (null != e) { var r, o, i, a, u = [], c = !0, l = !1; try { if (i = (e = e.call(t)).next, 0 === n) { if (Object(e) !== e) return; c = !1 } else for (; !(c = (r = i.call(e)).done) && (u.push(r.value), u.length !== n); c = !0); } catch (s) { l = !0, o = s } finally { try { if (!c && null != e.return && (a = e.return(), Object(a) !== a)) return } finally { if (l) throw o } } return u } }(t, n) || function (t, n) { if (!t) return; if ("string" == typeof t) return A(t, n); var e = Object.prototype.toString.call(t).slice(8, -1); "Object" === e && t.constructor && (e = t.constructor.name); if ("Map" === e || "Set" === e) return Array.from(t); if ("Arguments" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return A(t, n) }(t, n) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() }(E(), 2), C = R[0], b = R[1]; function P(t, n) { return function (t) { if (Array.isArray(t)) return t }(t) || function (t, n) { var e = null == t ? null : "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (null != e) { var r, o, i, a, u = [], c = !0, l = !1; try { if (i = (e = e.call(t)).next, 0 === n) { if (Object(e) !== e) return; c = !1 } else for (; !(c = (r = i.call(e)).done) && (u.push(r.value), u.length !== n); c = !0); } catch (s) { l = !0, o = s } finally { try { if (!c && null != e.return && (a = e.return(), Object(a) !== a)) return } finally { if (l) throw o } } return u } }(t, n) || function (t, n) { if (!t) return; if ("string" == typeof t) return w(t, n); var e = Object.prototype.toString.call(t).slice(8, -1); "Object" === e && t.constructor && (e = t.constructor.name); if ("Map" === e || "Set" === e) return Array.from(t); if ("Arguments" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return w(t, n) }(t, n) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function w(t, n) { (null == n || n > t.length) && (n = t.length); for (var e = 0, r = new Array(n); e < n; e++)r[e] = t[e]; return r } function N(t) { var n, e, s, f, d = t, p = P(d.split("?"), 2), m = p[0], h = p[1]; if (m && h) { d = m; var y = P(h.split("#"), 2), v = y[0], I = y[1]; v && (s = function (t) { return t.split("&").reduce((function (t, n) { var e = P(n.split("="), 2), r = e[0], o = e[1]; return r && o && (t[r] = decodeURIComponent(o)), t }), {}) }(v), f = I) } var O = d.split("#"); if (O.length > 1 && (d = O.shift(), f = O.pop()), 0 === d.indexOf(o)) n = d.slice(o.length).split(":"), e = r.URI; else { var E = P(d.split("?"), 1)[0]; if (0 === (null == E ? void 0 : E.indexOf(i))) n = E.slice(i.length).split("/"); else if (0 === (null == E ? void 0 : E.indexOf(a))) n = E.slice(a.length).split("/"); else if (0 === (null == E ? void 0 : E.indexOf(u))) n = E.slice(u.length).split("/"); else if (0 === (null == E ? void 0 : E.indexOf(c))) n = E.slice(c.length).split("/"); else { if (0 !== (null == E ? void 0 : E.indexOf(l))) throw new TypeError("Invalid Spotify URI!"); n = E.slice(l.length).split("/") } e = r.URL } return f && n.push(f), { format: e, components: n, query: s } } function U(t, n, o, i) { var a = 0, u = function () { var n = t[a++]; if (n && /\s/.test(n)) throw new TypeError("Invalid Spotify URI!"); return n }, c = function () { var t = u(); if (!t) throw new TypeError("Invalid Spotify URI!"); return t }, l = { getAllComponents: function () { return t }, getQueryParams: function () { return o }, getNextComponent: u, getNextRequiredComponent: c, getIdComponent: function () { var t = c(); if (t.length > 22) throw new TypeError("Invalid Spotify URI!"); return t }, getBase62IdComponent: function () { var t = c(); if (22 !== t.length) throw new TypeError("Invalid Spotify URI!"); if (!/^[a-zA-Z0-9]+$/.test(t)) throw new Error("Invalid ID"); return t }, getRemainingComponents: function () { return t.slice(a) }, getRemainingString: function () { var e = n === r.URI ? ":" : "/"; return t.slice(a).join(e) } }, s = c(), f = b[s]; if (!f) { var d = function (t) { return O.test(t) }(s); d && (s = c(), f = b[s]) } if (f) return f(l, n, {}); if (i) return b[e.UNKNOWN](l, n, {}); throw new TypeError("Invalid or unknown Spotify URI!") } function _(t, n) { (null == n || n > t.length) && (n = t.length); for (var e = 0, r = new Array(n); e < n; e++)r[e] = t[e]; return r } C(e.ALBUM, (function (t) { var n = t.getBase62IdComponent(), r = t.getNextComponent(); return function (t, n) { return Z(e.ALBUM, { id: t, disc: n, hasBase62Id: !0 }) }(n, r ? parseInt(r, 10) : void 0) })), C(s.APP, (function (t, n) { var r = t.getNextRequiredComponent(); if (h(v(r, n), n) !== r) throw new TypeError("Invalid or unknown Spotify URI!"); for (var o = t.getRemainingComponents(), i = 0, a = o.length; i < a; ++i)o[i] = v(o[i], n); return function (t, n) { return Z(e.APPLICATION, { id: t, args: Array.isArray(n) ? n : [] }) }(r, o) })), C(e.AD, (function (t) { return n = t.getNextRequiredComponent(), Z(e.AD, { id: n }); var n })), C(e.ARTIST, (function (t) { var n = t.getBase62IdComponent(), r = t.getNextComponent(); return r === s.TOP ? function (t, n) { return Z(e.ARTIST_TOPLIST, { id: t, toplist: n, hasBase62Id: !0 }) }(n, t.getNextRequiredComponent()) : r === s.CONCERTS ? function (t) { return Z(e.ARTIST_CONCERTS, { id: t, hasBase62Id: !0 }) }(n) : function (t) { return Z(e.ARTIST, { id: t, hasBase62Id: !0 }) }(n) })), C(e.AUDIO_FILE, (function (t) { return n = t.getNextRequiredComponent(), r = t.getNextRequiredComponent(), Z(e.AUDIO_FILE, { id: r, extension: n }); var n, r })), C(e.DAILY_MIX, (function (t) { return n = t.getIdComponent(), Z(e.DAILY_MIX, { id: n, hasBase62Id: !0 }); var n })), C(e.TEMP_PLAYLIST, (function (t) { return n = t.getNextRequiredComponent(), r = t.getRemainingString(), Z(e.TEMP_PLAYLIST, { origin: n, data: r }); var n, r })), C(e.PLAYLIST, (function (t) { return n = t.getBase62IdComponent(), Z(e.PLAYLIST_V2, { id: n, hasBase62Id: !0 }); var n })), C(e.SEARCH, (function (t, n) { return r = v(t.getRemainingString(), n), Z(e.SEARCH, { query: r }); var r })), C(e.TRACK, (function (t) { var n = t.getQueryParams(); return m(t.getBase62IdComponent(), t.getNextComponent(), null == n ? void 0 : n.context, null == n ? void 0 : n.play) })), C(e.TRACKSET, (function (t) { var n, r = v(t.getNextComponent()), o = t.getNextRequiredComponent(), i = t.getNextComponent(), a = parseInt(null !== (n = t.getNextComponent()) && void 0 !== n ? n : "", 10); ("%23" !== i || isNaN(a)) && (a = null); var u = []; if (o) for (var c = 0, l = (o = v(o).split(",")).length; c < l; c++) { var s = o[c]; s && u.push(m(s)) } return function (t, n, r) { return Z(e.TRACKSET, { tracks: t, name: n || "", index: isNaN(r) ? null : null != r ? r : null }) }(u, r, a) })), C(e.CONTEXT_GROUP, (function (t) { return n = t.getNextRequiredComponent(), r = t.getNextRequiredComponent(), Z(e.CONTEXT_GROUP, { origin: n, name: r, hasBase62Id: !0 }); var n, r })), C(s.TOP, (function (t) { var n = t.getNextRequiredComponent(); return t.getNextComponent() === s.GLOBAL ? p(n, void 0, !0) : p(n, t.getNextComponent(), !1) })), C(e.LOCAL_TRACK, (function (t, n) { var r, o, i = v(t.getNextComponent(), n), a = t.getNextComponent(), u = v(a, n), c = t.getNextComponent(), l = v(c, n), s = t.getNextComponent(), f = s ? parseInt(s, 10) : void 0; return void 0 !== c ? d(i, u, l, f) : void 0 !== a ? (r = i, o = u, Z(e.LOCAL_ALBUM, { artist: r, album: o })) : function (t) { return Z(e.LOCAL_ARTIST, { artist: t }) }(i) })), C(e.IMAGE, (function (t) { return n = t.getIdComponent(), Z(e.IMAGE, { id: n, hasBase62Id: !0 }); var n })), C(e.MOSAIC, (function (t) { return n = t.getRemainingComponents(), Z(e.MOSAIC, { ids: n }); var n })), C(e.RADIO, (function (t) { return n = t.getRemainingString(), Z(e.RADIO, { args: null != n ? n : "" }); var n })), C(e.SPECIAL, (function (t, n) { for (var r = t.getRemainingComponents(), o = 0, i = r.length; o < i; ++o)r[o] = v(r[o], n); return function (t) { return Z(e.SPECIAL, { args: null != t ? t : [] }) }(r) })), C(e.STATION, (function (t) { return n = t.getRemainingComponents(), Z(e.STATION, { args: null != n ? n : [] }); var n })), C(e.EPISODE, (function (t) { var n = t.getQueryParams(); return function (t, n, r) { return Z(e.EPISODE, { id: t, context: n ? J(n) : null, play: r, hasBase62Id: !0 }) }(t.getBase62IdComponent(), null == n ? void 0 : n.context, null == n ? void 0 : n.play) })), C(e.SHOW, (function (t) { return n = t.getBase62IdComponent(), Z(e.SHOW, { id: n, hasBase62Id: !0 }); var n })), C(e.LIVE, (function (t) { return n = t.getIdComponent(), Z(e.LIVE, { id: n, hasBase62Id: !0 }); var n })), C(e.ROOM, (function (t) { return n = t.getIdComponent(), Z(e.ROOM, { id: n, hasBase62Id: !0 }); var n })), C(e.EXPRESSION, (function (t) { return n = t.getIdComponent(), Z(e.EXPRESSION, { id: n, hasBase62Id: !0 }); var n })), C(e.CONCERT, (function (t) { return n = t.getIdComponent(), Z(e.CONCERT, { id: n, hasBase62Id: !0 }); var n })), C(e.MERCH, (function (t) { return n = t.getIdComponent(), Z(e.MERCH, { id: n, hasBase62Id: !0 }); var n })), C(e.PRERELEASE, (function (t) { return n = t.getIdComponent(), Z(e.PRERELEASE, { id: n, hasBase62Id: !0 }); var n })), C(e.SOCIAL_SESSION, (function (t) { return n = t.getNextRequiredComponent(), Z(e.SOCIAL_SESSION, { id: n, hasBase62Id: !0 }); var n })), C(e.INTERRUPTION, (function (t) { return n = t.getNextRequiredComponent(), Z(e.INTERRUPTION, { id: n }); var n })), C(e.COLLECTION, (function (t) { return f(void 0, t.getNextComponent()) })), C(e.GENRE, (function (t) { return n = t.getNextRequiredComponent(), Z(e.GENRE, { genre: n }); var n })), C(e.QUEUE, (function () { return Z(e.QUEUE, {}) })), C(s.USER, (function (t, n) { var r, o = v(t.getNextRequiredComponent(), n), i = t.getNextComponent(); if (o === e.FACEBOOK && i) return r = i, Z(e.FACEBOOK, { uid: r }); if (i && T[i]) { var a = T[i]; if (!a) throw new TypeError("Invalid Spotify URI!"); return a(t, n, { username: o }) } var u = t.getRemainingComponents(); return function (t, n) { return Z(e.PROFILE, { username: t, args: null != n ? n : [] }) }(o, i ? [i].concat(u) : void 0) })), C(e.UNKNOWN, (function (t) { return function (t) { return Z(e.UNKNOWN, { args: null != t ? t : [] }) }(t.getAllComponents()) })), C(e.MEDIA, (function (t) { return n = t.getIdComponent(), Z(e.MEDIA, { id: n, hasBase62Id: !0 }); var n })), C(e.POLL, (function (t) { return n = t.getIdComponent(), Z(e.POLL, { id: n, hasBase62Id: !0 }); var n })), C(e.QUESTION, (function (t) { return n = t.getIdComponent(), Z(e.QUESTION, { id: n, hasBase62Id: !0 }); var n })); var x, B = function (t, n) { return function (t) { if (Array.isArray(t)) return t }(t) || function (t, n) { var e = null == t ? null : "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (null != e) { var r, o, i, a, u = [], c = !0, l = !1; try { if (i = (e = e.call(t)).next, 0 === n) { if (Object(e) !== e) return; c = !1 } else for (; !(c = (r = i.call(e)).done) && (u.push(r.value), u.length !== n); c = !0); } catch (s) { l = !0, o = s } finally { try { if (!c && null != e.return && (a = e.return(), Object(a) !== a)) return } finally { if (l) throw o } } return u } }(t, n) || function (t, n) { if (!t) return; if ("string" == typeof t) return _(t, n); var e = Object.prototype.toString.call(t).slice(8, -1); "Object" === e && t.constructor && (e = t.constructor.name); if ("Map" === e || "Set" === e) return Array.from(t); if ("Arguments" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return _(t, n) }(t, n) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() }([function (t, n) { x[t] || (x[t] = n) }, x = {}], 2), M = B[0], j = B[1]; function D(t, n) { var e = j[t.type]; if (!e) throw new TypeError("Invalid Spotify URI!"); return e(t, n) } M(e.ALBUM, (function (t) { var n = [e.ALBUM, t.id]; return t.disc && n.push(t.disc), n })), M(e.AD, (function (t) { return [e.AD, t.id] })), M(e.ARTIST, (function (t) { return [e.ARTIST, t.id] })), M(e.QUEUE, (function () { return [e.QUEUE] })), M(e.GENRE, (function (t) { return [e.GENRE, t.genre] })), M(e.ARTIST_TOPLIST, (function (t) { return [e.ARTIST, t.id, s.TOP, t.toplist] })), M(e.ARTIST_CONCERTS, (function (t) { return [e.ARTIST, t.id, s.CONCERTS] })), M(e.DAILY_MIX, (function (t) { return [e.DAILY_MIX, t.id] })), M(e.SEARCH, (function (t, n) { return [e.SEARCH, h(t.query, n)] })), M(e.TRACK, (function (t) { var n = t.id; return (t.context || t.play) && (n += I({ context: t.context, play: t.play })), t.anchor && (n += "#".concat(t.anchor)), [e.TRACK, n] })), M(e.TRACKSET, (function (t) { var n = []; if (t.tracks) for (var r = 0, o = t.tracks.length; r < o; r++)n.push(t.tracks[r].id); return n = [n.join(",")], null !== t.index && void 0 !== t.index && n.push("#", t.index.toString()), [e.TRACKSET, h(t.name)].concat(n) })), M(e.FACEBOOK, (function (t) { return [s.USER, e.FACEBOOK, t.uid] })), M(e.AUDIO_FILE, (function (t) { return [e.AUDIO_FILE, t.extension, t.id] })), M(e.FOLDER, (function (t, n) { return [s.USER, h(t.username, n), e.FOLDER, t.id] })), M(e.FOLLOWERS, (function (t, n) { return [s.USER, h(t.username, n), e.FOLLOWERS] })), M(e.FOLLOWING, (function (t, n) { return [s.USER, h(t.username, n), e.FOLLOWING] })), M(e.PLAYLIST, (function (t, n) { return [s.USER, h(t.username, n), e.PLAYLIST, t.id] })), M(e.PLAYLIST_V2, (function (t) { return [e.PLAYLIST, t.id] })), M(e.STARRED, (function (t, n) { return [s.USER, h(t.username, n), e.STARRED] })), M(e.TEMP_PLAYLIST, (function (t) { return [e.TEMP_PLAYLIST, t.origin, t.data] })), M(e.CONTEXT_GROUP, (function (t) { return [e.CONTEXT_GROUP, t.origin, t.name] })), M(e.USER_TOPLIST, (function (t, n) { return [s.USER, h(t.username, n), s.TOP, t.toplist] })), M(e.USER_TOP_TRACKS, (function (t, n) { return [s.USER, h(t.username, n), e.TOPLIST] })), M(e.TOPLIST, (function (t) { return [s.TOP, t.toplist].concat(t.global || !t.country ? [s.GLOBAL] : ["country", t.country]) })), M(e.INBOX, (function (t, n) { return [s.USER, h(t.username, n), e.INBOX] })), M(e.ROOTLIST, (function (t, n) { return [s.USER, h(t.username, n), e.ROOTLIST] })), M(e.PUBLISHED_ROOTLIST, (function (t, n) { return [s.USER, h(t.username, n), e.PUBLISHED_ROOTLIST] })), M(e.COLLECTION_TRACK_LIST, (function (t, n) { return [s.USER, h(t.username, n), e.COLLECTION_TRACK_LIST, t.id] })), M(e.PROFILE, (function (t, n) { return t.args && t.args.length > 0 ? [s.USER, h(t.username, n)].concat(t.args) : [s.USER, h(t.username, n)] })), M(e.LOCAL_ARTIST, (function (t, n) { return [e.LOCAL_TRACK, h(t.artist, n)] })), M(e.LOCAL_ALBUM, (function (t, n) { return [e.LOCAL_TRACK, h(t.artist, n), h(t.album, n)] })), M(e.LOCAL_TRACK, (function (t, n) { return [e.LOCAL_TRACK, h(t.artist, n), h(t.album, n), h(t.track, n), t.duration] })), M(e.LIBRARY, (function (t, n) { return [s.USER, h(t.username, n), e.LIBRARY].concat(t.category ? [t.category] : []) })), M(e.IMAGE, (function (t) { return [e.IMAGE, t.id] })), M(e.MOSAIC, (function (t) { var n = []; return t.ids && (n = t.ids.slice(0)), n.unshift(e.MOSAIC), n })), M(e.RADIO, (function (t, n) { return y(t.args, n, [e.RADIO]) })), M(e.SPECIAL, (function (t, n) { return y(t.args, n, [e.SPECIAL]) })), M(e.STATION, (function (t, n) { return y(t.args, n, [e.STATION]) })), M(e.APPLICATION, (function (t, n) { return y(t.args, n, [s.APP, t.id]) })), M(e.COLLECTION_ALBUM, (function (t, n) { return [s.USER, h(t.username, n), e.COLLECTION, e.ALBUM, t.id] })), M(e.COLLECTION_MISSING_ALBUM, (function (t, n) { return [s.USER, h(t.username, n), e.COLLECTION, e.ALBUM, t.id, "missing"] })), M(e.COLLECTION_ARTIST, (function (t, n) { return [s.USER, h(t.username, n), e.COLLECTION, e.ARTIST, t.id] })), M(e.COLLECTION, (function (t, n) { var r = [e.COLLECTION].concat(t.category ? [t.category] : []); return t.username ? [s.USER, h(t.username, n)].concat(r) : r })), M(e.EPISODE, (function (t) { var n = t.id; return (t.context || t.play) && (n += I({ context: t.context, play: t.play })), [e.EPISODE, n] })), M(e.SHOW, (function (t) { return [e.SHOW, t.id] })), M(e.LIVE, (function (t) { return [e.LIVE, t.id] })), M(e.ROOM, (function (t) { return [e.ROOM, t.id] })), M(e.EXPRESSION, (function (t) { return [e.EXPRESSION, t.id] })), M(e.CONCERT, (function (t) { return [e.CONCERT, t.id] })), M(e.SOCIAL_SESSION, (function (t) { return [e.SOCIAL_SESSION, t.id] })), M(e.INTERRUPTION, (function (t) { return [e.INTERRUPTION, t.id] })), M(e.MERCH, (function (t) { return [e.MERCH, t.id] })), M(e.PRERELEASE, (function (t) { return [e.PRERELEASE, t.id] })), M(e.UNKNOWN, (function (t, n) { return y(t.args, n) })), M(e.MEDIA, (function (t) { return [e.MEDIA, t.id] })), M(e.POLL, (function (t) { return [e.POLL, t.id] })), M(e.QUESTION, (function (t) { return [e.QUESTION, t.id] })); var K = "0123456789abcdef", k = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ", Y = []; Y.length = 256; for (var F = 0; F < 256; F++)Y[F] = K[F >> 4] + K[15 & F]; var G = []; G.length = 128; for (var W = 0; W < k.length; ++W)G[k.charCodeAt(W)] = W; for (var q = [], H = 0; H < 16; H++)q[K.charCodeAt(H)] = H; for (var Q = 0; Q < 6; Q++)q["ABCDEF".charCodeAt(Q)] = 10 + Q; function X(t) { return X = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, X(t) } function V(t, n) { for (var e = 0; e < n.length; e++) { var r = n[e]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, (o = r.key, i = void 0, i = function (t, n) { if ("object" !== X(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var r = e.call(t, n || "default"); if ("object" !== X(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") } return ("string" === n ? String : Number)(t) }(o, "string"), "symbol" === X(i) ? i : String(i)), r) } var o, i } var $ = "function" == typeof Object.assign ? function (t, n) { Object.assign(t, n) } : function (t, n) { for (var e in n) n.hasOwnProperty(e) && (t[e] = n[e]) }, z = function () { function t(n) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; !function (t, n) { if (!(t instanceof n)) throw new TypeError("Cannot call a class as a function") }(this, t), this.type = n, this.hasBase62Id = !!e.hasBase62Id, $(this, e) } var n, o, i; return n = t, o = [{ key: "toURI", value: function () { var t = D(this, r.URI); return "spotify:".concat(t.join(":")) } }, { key: "toString", value: function () { return this.toURI() } }, { key: "toURLPath", value: function () { var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], n = D(this, r.URL); n[0] === s.APP && n.shift(); var o = n[0] === e.TRACKSET, i = n[0] === e.LOCAL_TRACK; if (!o && !i) { for (var a = [], u = 0, c = n.length; u < c; u++) { var l = n[u]; l && a.push(l) } n = a } var f = n.join("/"); return t ? "/".concat(f) : f } }, { key: "getPath", value: function () { return this.toString().replace(/[#?].*/, "") } }, { key: "toURL", value: function (t) { return "".concat(t || c).concat(this.toURLPath()) } }, { key: "clone", value: function () { return new t(this.type, this) } }], o && V(n.prototype, o), i && V(n, i), Object.defineProperty(n, "prototype", { writable: !1 }), t }(); function Z(t, n) { return new z(t, n) } function J(t, n) { if ("string" != typeof t) throw new TypeError("Argument `uri` must be a string."); return function (t, n) { var e = N(t); return U(e.components, e.format, e.query, n) }(t, null == n ? void 0 : n.parseUnknown) } function tt(t, n) { var e, r, o; if (!t) return null; var i = {}; if (n && (Array.isArray(n) ? i.allowedTypes = n : i = n), t instanceof z) return -1 === (null === (e = i.allowedTypes) || void 0 === e ? void 0 : e.indexOf(t.type)) ? null : t.clone(); if ("string" == typeof t) try { var a = J(t, i); return -1 === (null === (r = i.allowedTypes) || void 0 === r ? void 0 : r.indexOf(a.type)) ? null : a } catch (l) { return null } if (null == t ? void 0 : t.type) { if (-1 === (null === (o = i.allowedTypes) || void 0 === o ? void 0 : o.indexOf(t.type))) return null; var u = t.type, c = function (t, n) { var e = {}; for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && n.indexOf(r) < 0 && (e[r] = t[r]); if (null != t && "function" == typeof Object.getOwnPropertySymbols) { var o = 0; for (r = Object.getOwnPropertySymbols(t); o < r.length; o++)n.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[o]) && (e[r[o]] = t[r[o]]) } return e }(t, ["type"]); return new z(u, c) } return null } var nt, et, rt, ot = { frameBorder: 0, allowFullScreen: !0, allow: ["autoplay", "clipboard-write", "encrypted-media", "fullscreen", "picture-in-picture"].join("; "), loading: "lazy" }; function it(t) { return it = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, it(t) } function at() { at = function () { return t }; var t = {}, n = Object.prototype, e = n.hasOwnProperty, r = Object.defineProperty || function (t, n, e) { t[n] = e.value }, o = "function" == typeof Symbol ? Symbol : {}, i = o.iterator || "@@iterator", a = o.asyncIterator || "@@asyncIterator", u = o.toStringTag || "@@toStringTag"; function c(t, n, e) { return Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }), t[n] } try { c({}, "") } catch (b) { c = function (t, n, e) { return t[n] = e } } function l(t, n, e, o) { var i = n && n.prototype instanceof d ? n : d, a = Object.create(i.prototype), u = new A(o || []); return r(a, "_invoke", { value: g(t, e, u) }), a } function s(t, n, e) { try { return { type: "normal", arg: t.call(n, e) } } catch (b) { return { type: "throw", arg: b } } } t.wrap = l; var f = {}; function d() { } function p() { } function m() { } var h = {}; c(h, i, (function () { return this })); var y = Object.getPrototypeOf, v = y && y(y(R([]))); v && v !== n && e.call(v, i) && (h = v); var I = m.prototype = d.prototype = Object.create(h); function O(t) { ["next", "throw", "return"].forEach((function (n) { c(t, n, (function (t) { return this._invoke(n, t) })) })) } function E(t, n) { function o(r, i, a, u) { var c = s(t[r], t, i); if ("throw" !== c.type) { var l = c.arg, f = l.value; return f && "object" == it(f) && e.call(f, "__await") ? n.resolve(f.__await).then((function (t) { o("next", t, a, u) }), (function (t) { o("throw", t, a, u) })) : n.resolve(f).then((function (t) { l.value = t, a(l) }), (function (t) { return o("throw", t, a, u) })) } u(c.arg) } var i; r(this, "_invoke", { value: function (t, e) { function r() { return new n((function (n, r) { o(t, e, n, r) })) } return i = i ? i.then(r, r) : r() } }) } function g(t, n, e) { var r = "suspendedStart"; return function (o, i) { if ("executing" === r) throw new Error("Generator is already running"); if ("completed" === r) { if ("throw" === o) throw i; return C() } for (e.method = o, e.arg = i; ;) { var a = e.delegate; if (a) { var u = L(a, e); if (u) { if (u === f) continue; return u } } if ("next" === e.method) e.sent = e._sent = e.arg; else if ("throw" === e.method) { if ("suspendedStart" === r) throw r = "completed", e.arg; e.dispatchException(e.arg) } else "return" === e.method && e.abrupt("return", e.arg); r = "executing"; var c = s(t, n, e); if ("normal" === c.type) { if (r = e.done ? "completed" : "suspendedYield", c.arg === f) continue; return { value: c.arg, done: e.done } } "throw" === c.type && (r = "completed", e.method = "throw", e.arg = c.arg) } } } function L(t, n) { var e = n.method, r = t.iterator[e]; if (void 0 === r) return n.delegate = null, "throw" === e && t.iterator.return && (n.method = "return", n.arg = void 0, L(t, n), "throw" === n.method) || "return" !== e && (n.method = "throw", n.arg = new TypeError("The iterator does not provide a '" + e + "' method")), f; var o = s(r, t.iterator, n.arg); if ("throw" === o.type) return n.method = "throw", n.arg = o.arg, n.delegate = null, f; var i = o.arg; return i ? i.done ? (n[t.resultName] = i.value, n.next = t.nextLoc, "return" !== n.method && (n.method = "next", n.arg = void 0), n.delegate = null, f) : i : (n.method = "throw", n.arg = new TypeError("iterator result is not an object"), n.delegate = null, f) } function S(t) { var n = { tryLoc: t[0] }; 1 in t && (n.catchLoc = t[1]), 2 in t && (n.finallyLoc = t[2], n.afterLoc = t[3]), this.tryEntries.push(n) } function T(t) { var n = t.completion || {}; n.type = "normal", delete n.arg, t.completion = n } function A(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(S, this), this.reset(!0) } function R(t) { if (t) { var n = t[i]; if (n) return n.call(t); if ("function" == typeof t.next) return t; if (!isNaN(t.length)) { var r = -1, o = function n() { for (; ++r < t.length;)if (e.call(t, r)) return n.value = t[r], n.done = !1, n; return n.value = void 0, n.done = !0, n }; return o.next = o } } return { next: C } } function C() { return { value: void 0, done: !0 } } return p.prototype = m, r(I, "constructor", { value: m, configurable: !0 }), r(m, "constructor", { value: p, configurable: !0 }), p.displayName = c(m, u, "GeneratorFunction"), t.isGeneratorFunction = function (t) { var n = "function" == typeof t && t.constructor; return !!n && (n === p || "GeneratorFunction" === (n.displayName || n.name)) }, t.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, m) : (t.__proto__ = m, c(t, u, "GeneratorFunction")), t.prototype = Object.create(I), t }, t.awrap = function (t) { return { __await: t } }, O(E.prototype), c(E.prototype, a, (function () { return this })), t.AsyncIterator = E, t.async = function (n, e, r, o, i) { void 0 === i && (i = Promise); var a = new E(l(n, e, r, o), i); return t.isGeneratorFunction(e) ? a : a.next().then((function (t) { return t.done ? t.value : a.next() })) }, O(I), c(I, u, "Generator"), c(I, i, (function () { return this })), c(I, "toString", (function () { return "[object Generator]" })), t.keys = function (t) { var n = Object(t), e = []; for (var r in n) e.push(r); return e.reverse(), function t() { for (; e.length;) { var r = e.pop(); if (r in n) return t.value = r, t.done = !1, t } return t.done = !0, t } }, t.values = R, A.prototype = { constructor: A, reset: function (t) { if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(T), !t) for (var n in this) "t" === n.charAt(0) && e.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = void 0) }, stop: function () { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval }, dispatchException: function (t) { if (this.done) throw t; var n = this; function r(e, r) { return a.type = "throw", a.arg = t, n.next = e, r && (n.method = "next", n.arg = void 0), !!r } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return r("end"); if (i.tryLoc <= this.prev) { var u = e.call(i, "catchLoc"), c = e.call(i, "finallyLoc"); if (u && c) { if (this.prev < i.catchLoc) return r(i.catchLoc, !0); if (this.prev < i.finallyLoc) return r(i.finallyLoc) } else if (u) { if (this.prev < i.catchLoc) return r(i.catchLoc, !0) } else { if (!c) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return r(i.finallyLoc) } } } }, abrupt: function (t, n) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && e.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break } } i && ("break" === t || "continue" === t) && i.tryLoc <= n && n <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = n, i ? (this.method = "next", this.next = i.finallyLoc, f) : this.complete(a) }, complete: function (t, n) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && n && (this.next = n), f }, finish: function (t) { for (var n = this.tryEntries.length - 1; n >= 0; --n) { var e = this.tryEntries[n]; if (e.finallyLoc === t) return this.complete(e.completion, e.afterLoc), T(e), f } }, catch: function (t) { for (var n = this.tryEntries.length - 1; n >= 0; --n) { var e = this.tryEntries[n]; if (e.tryLoc === t) { var r = e.completion; if ("throw" === r.type) { var o = r.arg; T(e) } return o } } throw new Error("illegal catch attempt") }, delegateYield: function (t, n, e) { return this.delegate = { iterator: R(t), resultName: n, nextLoc: e }, "next" === this.method && (this.arg = void 0), f } }, t } function ut(t, n, e, r, o, i, a) { try { var u = t[i](a), c = u.value } catch (l) { return void e(l) } u.done ? n(c) : Promise.resolve(c).then(r, o) } function ct(t, n) { return function (t) { if (Array.isArray(t)) return t }(t) || function (t, n) { var e = null == t ? null : "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (null != e) { var r, o, i, a, u = [], c = !0, l = !1; try { if (i = (e = e.call(t)).next, 0 === n) { if (Object(e) !== e) return; c = !1 } else for (; !(c = (r = i.call(e)).done) && (u.push(r.value), u.length !== n); c = !0); } catch (s) { l = !0, o = s } finally { try { if (!c && null != e.return && (a = e.return(), Object(a) !== a)) return } finally { if (l) throw o } } return u } }(t, n) || function (t, n) { if (!t) return; if ("string" == typeof t) return lt(t, n); var e = Object.prototype.toString.call(t).slice(8, -1); "Object" === e && t.constructor && (e = t.constructor.name); if ("Map" === e || "Set" === e) return Array.from(t); if ("Arguments" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return lt(t, n) }(t, n) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function lt(t, n) { (null == n || n > t.length) && (n = t.length); for (var e = 0, r = new Array(n); e < n; e++)r[e] = t[e]; return r } function st(t, n) { for (var e = 0; e < n.length; e++) { var r = n[e]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, pt(r.key), r) } } function ft(t, n, e) { return n && st(t.prototype, n), e && st(t, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function dt(t, n, e) { return (n = pt(n)) in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e, t } function pt(t) { var n = function (t, n) { if ("object" !== it(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var r = e.call(t, n || "default"); if ("object" !== it(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") } return ("string" === n ? String : Number)(t) }(t, "string"); return "symbol" === it(n) ? n : String(n) } !function (t) { t.READY = "ready", t.PLAYBACK_UPDATE = "playback_update" }(nt || (nt = {})), function (t) { t.PLAY_FROM_START = "play_from_start", t.PLAY = "play", t.PAUSE = "pause", t.RESUME = "resume", t.TOGGLE_PLAY = "toggle", t.SEEK = "seek", t.LOAD_COMPLETE_ACK = "load_complete_ack" }(et || (et = {})); var mt, ht, yt = ft((function t(n, r) { var o, i, a, u, c, l = this; !function (t, n) { if (!(t instanceof n)) throw new TypeError("Cannot call a class as a function") }(this, t), dt(this, "_listeners", (dt(o = {}, nt.READY, []), dt(o, nt.PLAYBACK_UPDATE, []), o)), dt(this, "currentUri", ""), dt(this, "loading", !1), dt(this, "_commandQ", []), dt(this, "setIframeDimensions", (function (t, n) { l.iframeElement.setAttribute("width", t), l.iframeElement.setAttribute("height", n) })), dt(this, "onWindowMessages", (function (t) { var n, e; if (t.source === l.iframeElement.contentWindow && ((null === (n = t.data) || void 0 === n ? void 0 : n.type) === nt.READY && l.onPlayerReady(), (null === (e = t.data) || void 0 === e ? void 0 : e.type) === nt.PLAYBACK_UPDATE)) { var r, o = null === (r = t.data) || void 0 === r ? void 0 : r.payload; l.onPlaybackUpdate(o) } })), dt(this, "addListener", (function (t, n) { return l._listeners[t] || (l._listeners[t] = []), l._listeners[t].push(n), function () { l.removeListener(t, n) } })), dt(this, "removeListener", (function (t, n) { l._listeners[t] && l._listeners[t].length || (l._listeners[t] = l._listeners[t].filter((function (t) { return n !== t }))) })), dt(this, "emitEvent", (function (t, n) { var e; null === (e = l._listeners[t]) || void 0 === e || e.forEach((function (t) { return t({ data: n }) })) })), dt(this, "onPlayerReady", (function () { l.loading = !1, l.flushCommandQ(), l.playerReadyAck(), l.emitEvent(nt.READY, {}) })), dt(this, "onPlaybackUpdate", (function (t) { l.emitEvent(nt.PLAYBACK_UPDATE, t) })), dt(this, "loadUri", (function (t) { var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; if (t !== l.currentUri) { var r = tt(t); if (!r || r.type !== e.EPISODE && r.type !== e.SHOW && r.type !== e.ALBUM && r.type !== e.ARTIST && r.type !== e.PLAYLIST_V2 && r.type !== e.TRACK) throw new Error("".concat(t, " cannot be embedded.")); l.loading = !0; var o = r.type === e.PLAYLIST_V2 ? "playlist" : r.type, i = new URL("".concat(l.host, "/embed/").concat(o, "/").concat(r.id)); if (l.options.startAt) { var a = parseInt(l.options.startAt, 10); isNaN(a) || i.searchParams.append("t", a.toString()) } "dark" === l.options.theme && i.searchParams.append("theme", "0"), l.iframeElement.src = i.href, r.type !== e.EPISODE && r.type !== e.SHOW || !n || rt.supportsVideo(t).then((function (t) { t && (i.pathname += "/video", l.iframeElement.src = i.href) })) } })), dt(this, "playerReadyAck", (function () { l.sendMessageToEmbed({ command: et.LOAD_COMPLETE_ACK }) })), dt(this, "play", (function () { l.sendMessageToEmbed({ command: et.PLAY }) })), dt(this, "playFromStart", (function () { l.sendMessageToEmbed({ command: et.PLAY_FROM_START }) })), dt(this, "pause", (function () { l.sendMessageToEmbed({ command: et.PAUSE }) })), dt(this, "resume", (function () { l.sendMessageToEmbed({ command: et.RESUME }) })), dt(this, "togglePlay", (function () { l.sendMessageToEmbed({ command: et.TOGGLE_PLAY }) })), dt(this, "seek", (function (t) { l.sendMessageToEmbed({ command: et.SEEK, timestamp: t }) })), dt(this, "sendMessageToEmbed", (function (t) { l.loading ? l._commandQ.push(t) : l.iframeElement.contentWindow ? l.iframeElement.contentWindow.postMessage(t, l.host) : console.error("Spotify Embed: Failed to send message ".concat(t, ".\n      Most likely this is because the iframe containing the embed player\n      has not finished loading yet.")) })), dt(this, "flushCommandQ", (function () { l._commandQ.length && (l._commandQ.forEach((function (t) { setTimeout((function () { l.sendMessageToEmbed(t) }), 0) })), l._commandQ = []) })), dt(this, "destroy", (function () { var t; null === (t = l.iframeElement.parentElement) || void 0 === t || t.removeChild(l.iframeElement), window.removeEventListener("message", l.onWindowMessages) })), this.host = null === (i = window.SpotifyIframeConfig) || void 0 === i ? void 0 : i.host, this.options = r; var s = new URL(this.host); if (!s.hostname.endsWith(".spotify.com") && !s.hostname.endsWith(".spotify.net")) throw new Error('It appears that the hostname for the Spotify embed player has been overridden.\n      Please make sure that "SpotifyEmbedConfig" is not being overridden.'); var f = document.createElement("iframe"); Object.entries(ot).forEach((function (t) { var n = ct(t, 2), e = n[0], r = n[1], o = e.toLowerCase(); "boolean" == typeof r ? f.setAttribute(o, "") : f.setAttribute(o, r) })), this.iframeElement = f; var d = null !== (a = r.width) && void 0 !== a ? a : "100%", p = null !== (u = r.height) && void 0 !== u ? u : 352..toString(); this.setIframeDimensions(d, p), null === (c = n.parentElement) || void 0 === c || c.replaceChild(f, n), window.addEventListener("message", this.onWindowMessages) })); const vt = rt = { createController: function (t) { var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, e = arguments.length > 2 ? arguments[2] : void 0, r = new yt(t, n); n.uri && r.loadUri(n.uri, n.preferVideo), e(r) }, supportsVideo: (mt = at().mark((function t(n) { var e, r, o, i; return at().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return r = null === (e = window.SpotifyIframeConfig) || void 0 === e ? void 0 : e.host, t.next = 3, fetch("".concat(r, "/oembed?url=").concat(encodeURIComponent(n)), { method: "GET" }); case 3: return o = t.sent, t.next = 6, o.json(); case 6: return i = t.sent, t.abrupt("return", "video" === i.type); case 8: case "end": return t.stop() } }), t) })), ht = function () { var t = this, n = arguments; return new Promise((function (e, r) { var o = mt.apply(t, n); function i(t) { ut(o, e, r, i, a, "next", t) } function a(t) { ut(o, e, r, i, a, "throw", t) } i(void 0) })) }, function (t) { return ht.apply(this, arguments) }) }; window.onSpotifyIframeApiReady ? window.onSpotifyIframeApiReady(rt) : console.warn('SpotifyIframeApi: "onSpotifyIframeApiReady" has not been defined.\n  Please read the docs to see why you are seeing this warning.'), window.SpotifyIframeApi = n.default })();
//# sourceMappingURL=embed-iframe-api-v1.c3632ddf.js.map